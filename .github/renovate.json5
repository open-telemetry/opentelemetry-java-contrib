{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:best-practices',
    'helpers:pinGitHubActionDigestsToSemver',
  ],
  ignorePresets: [
    ':ignoreModulesAndTests',
    'workarounds:javaLTSVersions',
  ],
  prHourlyLimit: 5,
  labels: [
    'dependencies',
  ],
  packageRules: [
    {
      groupName: 'all patch versions',
      matchUpdateTypes: [
        'patch',
      ],
      schedule: [
        'before 8am every weekday',
      ],
    },
    {
      matchUpdateTypes: [
        'minor',
        'major',
      ],
      schedule: [
        'before 8am on Monday',
      ],
      matchPackageNames: [
        '!io.opentelemetry:**',
        '!io.opentelemetry.*:**',
      ],
    },
    {
      matchPackageNames: [
        'io.opentelemetry:**',
        'io.opentelemetry.instrumentation:**',
        'io.opentelemetry.semconv:**',
        'io.opentelemetry.proto:**',
      ],
      ignoreUnstable: false,
    },
    {
      matchPackageNames: [
        'com.google.code.findbugs:annotations',
      ],
      allowedVersions: '!/^3\\.0\\.1$/',
    },
    {
      matchPackageNames: [
        'com.lmax:disruptor',
      ],
      matchUpdateTypes: [
        'major',
      ],
      enabled: false,
    },
    {
      matchPackageNames: [
        'org.junit-pioneer:junit-pioneer',
      ],
      matchUpdateTypes: [
        'major',
      ],
      enabled: false,
    },
    {
      matchUpdateTypes: [
        'major',
      ],
      enabled: false,
      matchPackageNames: [
        'org.mockito:{/,}**',
      ],
    },
    {
      matchPackageNames: [
        'org.agrona:agrona',
      ],
      matchUpdateTypes: [
        'major',
        'minor',
      ],
      enabled: false,
    },
    {
      matchPackageNames: [
        'uk.org.webcompere:system-stubs-jupiter',
      ],
      matchUpdateTypes: [
        'major',
        'minor',
      ],
      enabled: false,
    },
    {
      matchPackageNames: [
        'io.micrometer:micrometer-core',
      ],
      matchCurrentVersion: '1.5.0',
      enabled: false,
    },
    {
      matchCurrentVersion: '3.5.0',
      enabled: false,
      matchPackageNames: [
        'org.apache.maven:{/,}**',
      ],
    },
    {
      groupName: 'spotless packages',
      matchPackageNames: [
        'com.diffplug.spotless{/,}**',
      ],
    },
    {
      groupName: 'hipparchus packages',
      matchPackageNames: [
        'org.hipparchus{/,}**',
      ],
    },
    {
      groupName: 'errorprone packages',
      matchPackageNames: [
        'com.google.errorprone{/,}**',
      ],
    },
    {
      matchUpdateTypes: [
        'major',
      ],
      enabled: false,
      matchPackageNames: [
        'org.openjdk.jmc{/,}**',
      ],
    },
    {
      matchFileNames: [
        'jmx-scraper/test-webapp/build.gradle.kts',
      ],
      matchCurrentVersion: '5.0.0',
      enabled: false,
      matchPackageNames: [
        'jakarta.servlet:{/,}**',
      ],
    },
    {
      matchFileNames: [
        'gcp-auth-extension/build.gradle.kts',
      ],
      matchUpdateTypes: [
        'major',
      ],
      enabled: false,
      matchPackageNames: [
        'org.springframework.boot{/,}**',
      ],
    },
  ],
  customManagers: [
    {
      customType: 'regex',
      datasourceTemplate: 'npm',
      managerFilePatterns: [
        '.github/workflows/**',
      ],
      matchStrings: [
        'npx (?<depName>[^@]+)@(?<currentValue>[^\\s]+)',
      ],
    },
    {
      customType: 'regex',
      datasourceTemplate: 'java-version',
      managerFilePatterns: [
        '.github/workflows/**',
      ],
      matchStrings: [
        '(?<currentValue>\\d+) # renovate: datasource=java-version',
      ],
      depNameTemplate: 'java',
      extractVersionTemplate: '^(?<version>\\d+)',
    },
  ],
}
